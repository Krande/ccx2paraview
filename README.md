Â© Ihor Mirzov, UJV Rez, May 2019

<br/><br/>



# ccx2paraview.py

It's the main script. Together with *VTKWriter.py*, *VTUWriter.py* and *FRDParser.py* it converts [CalculiX](http://www.dhondt.de/) .frd-file to view and postprocess calculation results in [Paraview](https://www.paraview.org/). For each time step generates separate file - it makes possible to animate time history.  

To convert .frd to legacy ASCII .vtk-format, use command:

    python3 ccx2paraview.py -frd jobname -fmt vtk

To convert .frd to modern XML .vtu-format, use command:

    python3 ccx2paraview.py -frd jobname -fmt vtu

By default script will skip ERROR fields generated by CalculiX. If you'd like to leave them, run commands with '-skip 0' argument:

    python3 ccx2paraview.py -frd jobname -fmt vtk -skip 0
    python3 ccx2paraview.py -frd jobname -fmt vtu -skip 0

Unfortunately, VTK format doesn't support names for field components. So, for stress tensor components will be:

    0. Sxx
    1. Syy
    2. Szz
    3. Sxy
    4. Syz
    5. Szx
    6. Mises
    7. Principal1
    8. Principal2
    9. Principal3

Tested in ccx_2.15 and Paraview 5.6.0 for:

- element types: S3, S6, S4, S8, CPE3, CPE4, CPS3, CPS4, C3D15, C3D20
- output variables: NDTEMP, STRESS, DISP, FORC, PE, SDV, TOSTRAIN
- analysis type: static, coupled temperature-displacement, visco, frequency

<br/><br/>



# Known bug

For field output in your Calculix .inp-file always use NSET parameter. In this case conversion goes well. For example:

    *NODE FILE, NSET=ALL
        NT, U
    *EL FILE, NSET=ALL
        S, PEEQ, SDV

<br/><br/>



# Tests

Folders *tests-elements* and *tests-examples* contain .inp-tasks + .frd-calculation + .vtk and .vtu convertion results.  
Needed for the development process.  *tests-examples* are taken directly from [Calculix examples](http://www.dhondt.de/ccx_2.15.test.tar.bz2).

Run all tests with command:

    python3 tests.py

<br/><br/>



# TODO

- Generate invariants, principal min/max and equivalent for strains.
- Test converter for all the Calculix examples.
- Windows Line endings.
